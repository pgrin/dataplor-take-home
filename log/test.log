  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "nodes"[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "nodes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "parent_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240315182948)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-03-16 16:31:23.160589', '2024-03-16 16:31:23.160592') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '137ba4690e7f57336895f4b91d74a3ca2345bfe7', '2024-03-16 16:31:23.161950', '2024-03-16 16:31:23.161952') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:31:23.338214', '2024-03-16 16:31:23.338214');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:31:23.338214', '2024-03-16 16:31:23.338214')[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
NodesHelperTest: test_the_truth
-------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:37:14.854030', '2024-03-16 16:37:14.854030');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:37:14.854030', '2024-03-16 16:37:14.854030')[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
NodesHelperTest: test_the_truth
-------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:37:51.145005', '2024-03-16 16:37:51.145005');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:37:51.145005', '2024-03-16 16:37:51.145005')[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
NodesHelperTest: test_the_truth
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:42:06.076393', '2024-03-16 16:42:06.076393');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:42:06.076393', '2024-03-16 16:42:06.076393')[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
NodesHelperTest: test_the_truth
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:43:58.207144', '2024-03-16 16:43:58.207144');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:43:58.207144', '2024-03-16 16:43:58.207144')[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
NodesHelperTest: test_the_truth
-------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:43:58.225197"], ["updated_at", "2024-03-16 16:43:58.225197"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:43:58.228442"], ["updated_at", "2024-03-16 16:43:58.228442"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2520230], ["parent_id", 125], ["created_at", "2024-03-16 16:43:58.230457"], ["updated_at", "2024-03-16 16:43:58.230457"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:43:58.231208"], ["updated_at", "2024-03-16 16:43:58.231208"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:43:58.231920"], ["updated_at", "2024-03-16 16:43:58.231920"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:47:24.998542', '2024-03-16 16:47:24.998542');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:47:24.998542', '2024-03-16 16:47:24.998542')[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:47:25.079236"], ["updated_at", "2024-03-16 16:47:25.079236"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:47:25.081271"], ["updated_at", "2024-03-16 16:47:25.081271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:47:25.082216"], ["updated_at", "2024-03-16 16:47:25.082216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:47:25.083481"], ["updated_at", "2024-03-16 16:47:25.083481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:47:25.086318"], ["updated_at", "2024-03-16 16:47:25.086318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:49:19.002702', '2024-03-16 16:49:19.002702');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:49:19.002702', '2024-03-16 16:49:19.002702')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:49:19.028660"], ["updated_at", "2024-03-16 16:49:19.028660"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:49:19.030291"], ["updated_at", "2024-03-16 16:49:19.030291"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:49:19.031061"], ["updated_at", "2024-03-16 16:49:19.031061"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:49:19.031741"], ["updated_at", "2024-03-16 16:49:19.031741"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:49:19.032459"], ["updated_at", "2024-03-16 16:49:19.032459"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:49:33.292393', '2024-03-16 16:49:33.292393');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:49:33.292393', '2024-03-16 16:49:33.292393')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:49:33.346372"], ["updated_at", "2024-03-16 16:49:33.346372"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:49:33.347758"], ["updated_at", "2024-03-16 16:49:33.347758"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:49:33.348536"], ["updated_at", "2024-03-16 16:49:33.348536"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:49:33.349167"], ["updated_at", "2024-03-16 16:49:33.349167"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:49:33.349810"], ["updated_at", "2024-03-16 16:49:33.349810"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:52:53.210537', '2024-03-16 16:52:53.210537');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:52:53.210537', '2024-03-16 16:52:53.210537')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:52:53.230360"], ["updated_at", "2024-03-16 16:52:53.230360"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (3.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:52:53.232368"], ["updated_at", "2024-03-16 16:52:53.232368"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:52:53.236526"], ["updated_at", "2024-03-16 16:52:53.236526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:52:53.240896"], ["updated_at", "2024-03-16 16:52:53.240896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:52:53.241731"], ["updated_at", "2024-03-16 16:52:53.241731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:53:25.724028', '2024-03-16 16:53:25.724028');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:53:25.724028', '2024-03-16 16:53:25.724028')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:53:25.789617"], ["updated_at", "2024-03-16 16:53:25.789617"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:53:25.791075"], ["updated_at", "2024-03-16 16:53:25.791075"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:53:25.791862"], ["updated_at", "2024-03-16 16:53:25.791862"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:53:25.792529"], ["updated_at", "2024-03-16 16:53:25.792529"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:53:25.793134"], ["updated_at", "2024-03-16 16:53:25.793134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:53:32.342401', '2024-03-16 16:53:32.342401');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:53:32.342401', '2024-03-16 16:53:32.342401')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:53:32.342471', '2024-03-16 16:53:32.342471');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:53:32.342471', '2024-03-16 16:53:32.342471')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:53:32.367899"], ["updated_at", "2024-03-16 16:53:32.367899"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:53:32.369488"], ["updated_at", "2024-03-16 16:53:32.369488"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:53:32.373606"], ["updated_at", "2024-03-16 16:53:32.373606"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:53:32.377697"], ["updated_at", "2024-03-16 16:53:32.377697"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:53:32.380517"], ["updated_at", "2024-03-16 16:53:32.380517"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mNode Create (64.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:53:32.369072"], ["updated_at", "2024-03-16 16:53:32.369072"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (2.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:53:32.434911"], ["updated_at", "2024-03-16 16:53:32.434911"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:53:32.438736"], ["updated_at", "2024-03-16 16:53:32.438736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (2.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:53:32.440926"], ["updated_at", "2024-03-16 16:53:32.440926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:53:32.446156"], ["updated_at", "2024-03-16 16:53:32.446156"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (120.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:55:04.680615', '2024-03-16 16:55:04.680615');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:55:04.680615', '2024-03-16 16:55:04.680615')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_no_common_match
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:55:04.707258"], ["updated_at", "2024-03-16 16:55:04.707258"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:55:04.709219"], ["updated_at", "2024-03-16 16:55:04.709219"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:55:04.710608"], ["updated_at", "2024-03-16 16:55:04.710608"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:55:04.712964"], ["updated_at", "2024-03-16 16:55:04.712964"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:55:04.714721"], ["updated_at", "2024-03-16 16:55:04.714721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:55:18.059497', '2024-03-16 16:55:18.059497');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:55:18.059497', '2024-03-16 16:55:18.059497')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_no_common_match
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:55:18.103762"], ["updated_at", "2024-03-16 16:55:18.103762"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:55:18.105181"], ["updated_at", "2024-03-16 16:55:18.105181"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:55:18.105876"], ["updated_at", "2024-03-16 16:55:18.105876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:55:18.107426"], ["updated_at", "2024-03-16 16:55:18.107426"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:55:18.108199"], ["updated_at", "2024-03-16 16:55:18.108199"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:56:31.356555', '2024-03-16 16:56:31.356555');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:56:31.356555', '2024-03-16 16:56:31.356555')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:56:31.377453"], ["updated_at", "2024-03-16 16:56:31.377453"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:56:31.378954"], ["updated_at", "2024-03-16 16:56:31.378954"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:56:31.379686"], ["updated_at", "2024-03-16 16:56:31.379686"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:56:31.380351"], ["updated_at", "2024-03-16 16:56:31.380351"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:56:31.381087"], ["updated_at", "2024-03-16 16:56:31.381087"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:56:31.402877"], ["updated_at", "2024-03-16 16:56:31.402877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:56:31.403833"], ["updated_at", "2024-03-16 16:56:31.403833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:56:31.406374"], ["updated_at", "2024-03-16 16:56:31.406374"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:56:31.407247"], ["updated_at", "2024-03-16 16:56:31.407247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:56:31.407974"], ["updated_at", "2024-03-16 16:56:31.407974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:56:31.410229"], ["updated_at", "2024-03-16 16:56:31.410229"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:56:31.411343"], ["updated_at", "2024-03-16 16:56:31.411343"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:56:31.412116"], ["updated_at", "2024-03-16 16:56:31.412116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:56:31.413542"], ["updated_at", "2024-03-16 16:56:31.413542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:56:31.415040"], ["updated_at", "2024-03-16 16:56:31.415040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 16:56:49.893426', '2024-03-16 16:56:49.893426');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 16:56:49.893426', '2024-03-16 16:56:49.893426')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:56:49.909083"], ["updated_at", "2024-03-16 16:56:49.909083"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:56:49.910853"], ["updated_at", "2024-03-16 16:56:49.910853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:56:49.911611"], ["updated_at", "2024-03-16 16:56:49.911611"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:56:49.912254"], ["updated_at", "2024-03-16 16:56:49.912254"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:56:49.912932"], ["updated_at", "2024-03-16 16:56:49.912932"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:56:49.925700"], ["updated_at", "2024-03-16 16:56:49.925700"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:56:49.926477"], ["updated_at", "2024-03-16 16:56:49.926477"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:56:49.927118"], ["updated_at", "2024-03-16 16:56:49.927118"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:56:49.927739"], ["updated_at", "2024-03-16 16:56:49.927739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:56:49.928469"], ["updated_at", "2024-03-16 16:56:49.928469"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 16:56:49.930591"], ["updated_at", "2024-03-16 16:56:49.930591"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 16:56:49.931343"], ["updated_at", "2024-03-16 16:56:49.931343"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 16:56:49.932024"], ["updated_at", "2024-03-16 16:56:49.932024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 16:56:49.932692"], ["updated_at", "2024-03-16 16:56:49.932692"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 16:56:49.933422"], ["updated_at", "2024-03-16 16:56:49.933422"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 17:03:20.648626', '2024-03-16 17:03:20.648626');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 17:03:20.648626', '2024-03-16 17:03:20.648626')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:03:20.675325"], ["updated_at", "2024-03-16 17:03:20.675325"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:03:20.677123"], ["updated_at", "2024-03-16 17:03:20.677123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:03:20.678490"], ["updated_at", "2024-03-16 17:03:20.678490"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:03:20.679318"], ["updated_at", "2024-03-16 17:03:20.679318"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:03:20.679974"], ["updated_at", "2024-03-16 17:03:20.679974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 17:03:26.769597', '2024-03-16 17:03:26.769597');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 17:03:26.769597', '2024-03-16 17:03:26.769597')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:03:26.813209"], ["updated_at", "2024-03-16 17:03:26.813209"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:03:26.815524"], ["updated_at", "2024-03-16 17:03:26.815524"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:03:26.818808"], ["updated_at", "2024-03-16 17:03:26.818808"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:03:26.819567"], ["updated_at", "2024-03-16 17:03:26.819567"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:03:26.820207"], ["updated_at", "2024-03-16 17:03:26.820207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:03:26.831175"], ["updated_at", "2024-03-16 17:03:26.831175"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:03:26.831968"], ["updated_at", "2024-03-16 17:03:26.831968"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:03:26.832619"], ["updated_at", "2024-03-16 17:03:26.832619"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:03:26.833892"], ["updated_at", "2024-03-16 17:03:26.833892"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:03:26.834520"], ["updated_at", "2024-03-16 17:03:26.834520"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:03:26.839854"], ["updated_at", "2024-03-16 17:03:26.839854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:03:26.840609"], ["updated_at", "2024-03-16 17:03:26.840609"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:03:26.841253"], ["updated_at", "2024-03-16 17:03:26.841253"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:03:26.841874"], ["updated_at", "2024-03-16 17:03:26.841874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:03:26.842590"], ["updated_at", "2024-03-16 17:03:26.842590"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:03:26.846931"], ["updated_at", "2024-03-16 17:03:26.846931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:03:26.847765"], ["updated_at", "2024-03-16 17:03:26.847765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:03:26.848818"], ["updated_at", "2024-03-16 17:03:26.848818"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:03:26.850414"], ["updated_at", "2024-03-16 17:03:26.850414"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:03:26.851521"], ["updated_at", "2024-03-16 17:03:26.851521"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 17:05:28.448501', '2024-03-16 17:05:28.448501');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 17:05:28.448501', '2024-03-16 17:05:28.448501')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:05:28.497353"], ["updated_at", "2024-03-16 17:05:28.497353"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:05:28.501187"], ["updated_at", "2024-03-16 17:05:28.501187"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:05:28.503784"], ["updated_at", "2024-03-16 17:05:28.503784"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:05:28.506821"], ["updated_at", "2024-03-16 17:05:28.506821"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:05:28.508902"], ["updated_at", "2024-03-16 17:05:28.508902"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "nodes";
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-16 17:05:29.216367', '2024-03-16 17:05:29.216367');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-16 17:05:29.216367', '2024-03-16 17:05:29.216367')[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:05:29.240209"], ["updated_at", "2024-03-16 17:05:29.240209"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:05:29.241916"], ["updated_at", "2024-03-16 17:05:29.241916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.242689"], ["updated_at", "2024-03-16 17:05:29.242689"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.243429"], ["updated_at", "2024-03-16 17:05:29.243429"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:05:29.244212"], ["updated_at", "2024-03-16 17:05:29.244212"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:05:29.265914"], ["updated_at", "2024-03-16 17:05:29.265914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:05:29.266974"], ["updated_at", "2024-03-16 17:05:29.266974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.267954"], ["updated_at", "2024-03-16 17:05:29.267954"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.269175"], ["updated_at", "2024-03-16 17:05:29.269175"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:05:29.270126"], ["updated_at", "2024-03-16 17:05:29.270126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:05:29.274118"], ["updated_at", "2024-03-16 17:05:29.274118"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:05:29.274916"], ["updated_at", "2024-03-16 17:05:29.274916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.275551"], ["updated_at", "2024-03-16 17:05:29.275551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.276222"], ["updated_at", "2024-03-16 17:05:29.276222"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:05:29.276964"], ["updated_at", "2024-03-16 17:05:29.276964"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:05:29.285360"], ["updated_at", "2024-03-16 17:05:29.285360"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:05:29.286457"], ["updated_at", "2024-03-16 17:05:29.286457"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.287956"], ["updated_at", "2024-03-16 17:05:29.287956"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.289657"], ["updated_at", "2024-03-16 17:05:29.289657"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:05:29.290724"], ["updated_at", "2024-03-16 17:05:29.290724"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-16 17:05:29.298805"], ["updated_at", "2024-03-16 17:05:29.298805"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-16 17:05:29.300522"], ["updated_at", "2024-03-16 17:05:29.300522"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.301658"], ["updated_at", "2024-03-16 17:05:29.301658"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-16 17:05:29.302594"], ["updated_at", "2024-03-16 17:05:29.302594"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-16 17:05:29.304043"], ["updated_at", "2024-03-16 17:05:29.304043"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "birds"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "birds" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "node_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_birds_on_node_id" ON "birds" ("node_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "nodes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "nodes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "parent_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abirds" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "node_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abirds_on_node_id" ON "abirds" ("node_id")[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "abirds" ("id","node_id","created_at","updated_at")
                     SELECT "id","node_id","created_at","updated_at" FROM "birds"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "birds"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "birds" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "node_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_b54858e8c4"
FOREIGN KEY ("node_id")
  REFERENCES "nodes" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_birds_on_node_id" ON "birds" ("node_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("id","node_id","created_at","updated_at")
                     SELECT "id","node_id","created_at","updated_at" FROM "abirds"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "abirds"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240317162504)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240315182948);[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-03-17 18:00:41.096389', '2024-03-17 18:00:41.096392') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '326a9fe5b4ae3d0b0d3e310a5db3c593d51f16aa', '2024-03-17 18:00:41.098436', '2024-03-17 18:00:41.098438') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:00:41.219179', '2024-03-17 18:00:41.219179');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:00:41.219179', '2024-03-17 18:00:41.219179');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:00:41.224013', '2024-03-17 18:00:41.224013');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:00:41.224013', '2024-03-17 18:00:41.224013')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:01:07.437323', '2024-03-17 18:01:07.437323');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:01:07.437323', '2024-03-17 18:01:07.437323');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:01:07.441292', '2024-03-17 18:01:07.441292');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:01:07.441292', '2024-03-17 18:01:07.441292')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:01:21.849473', '2024-03-17 18:01:21.849473');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:01:21.849473', '2024-03-17 18:01:21.849473');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:01:21.851981', '2024-03-17 18:01:21.851981');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:01:21.851981', '2024-03-17 18:01:21.851981')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:36.938461', '2024-03-17 18:09:36.938461');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:36.938461', '2024-03-17 18:09:36.938461');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:36.940198', '2024-03-17 18:09:36.940198');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:36.940198', '2024-03-17 18:09:36.940198')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:36.985575', '2024-03-17 18:09:36.985575');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:36.985575', '2024-03-17 18:09:36.985575');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:36.985635', '2024-03-17 18:09:36.985635');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:36.985635', '2024-03-17 18:09:36.985635')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:36.990906', '2024-03-17 18:09:36.990906');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:36.990906', '2024-03-17 18:09:36.990906');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:36.990988', '2024-03-17 18:09:36.990988');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:36.990988', '2024-03-17 18:09:36.990988')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:36.995199', '2024-03-17 18:09:36.995199');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:36.995199', '2024-03-17 18:09:36.995199');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:36.995255', '2024-03-17 18:09:36.995255');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:36.995255', '2024-03-17 18:09:36.995255')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:36.998643', '2024-03-17 18:09:36.998643');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:36.998643', '2024-03-17 18:09:36.998643');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:36.998698', '2024-03-17 18:09:36.998698');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:36.998698', '2024-03-17 18:09:36.998698')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:37.001835', '2024-03-17 18:09:37.001835');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:37.001835', '2024-03-17 18:09:37.001835');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:37.001890', '2024-03-17 18:09:37.001890');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:37.001890', '2024-03-17 18:09:37.001890')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:37.005454', '2024-03-17 18:09:37.005454');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:37.005454', '2024-03-17 18:09:37.005454');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:37.005513', '2024-03-17 18:09:37.005513');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:37.005513', '2024-03-17 18:09:37.005513')[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:37.011571', '2024-03-17 18:09:37.011571');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:37.011571', '2024-03-17 18:09:37.011571');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:37.011627', '2024-03-17 18:09:37.011627');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:37.011627', '2024-03-17 18:09:37.011627')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:58.782686', '2024-03-17 18:09:58.782686');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:58.782686', '2024-03-17 18:09:58.782686');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:58.784216', '2024-03-17 18:09:58.784216');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:58.784216', '2024-03-17 18:09:58.784216')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:58.825615', '2024-03-17 18:09:58.825615');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:58.825615', '2024-03-17 18:09:58.825615');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:58.825761', '2024-03-17 18:09:58.825761');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:58.825761', '2024-03-17 18:09:58.825761')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:58.830980', '2024-03-17 18:09:58.830980');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:58.830980', '2024-03-17 18:09:58.830980');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:58.831041', '2024-03-17 18:09:58.831041');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:58.831041', '2024-03-17 18:09:58.831041')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:58.834256', '2024-03-17 18:09:58.834256');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:58.834256', '2024-03-17 18:09:58.834256');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:58.834375', '2024-03-17 18:09:58.834375');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:58.834375', '2024-03-17 18:09:58.834375')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:58.837711', '2024-03-17 18:09:58.837711');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:58.837711', '2024-03-17 18:09:58.837711');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:58.837767', '2024-03-17 18:09:58.837767');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:58.837767', '2024-03-17 18:09:58.837767')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:58.842460', '2024-03-17 18:09:58.842460');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:58.842460', '2024-03-17 18:09:58.842460');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:58.842600', '2024-03-17 18:09:58.842600');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:58.842600', '2024-03-17 18:09:58.842600')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:58.847796', '2024-03-17 18:09:58.847796');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:58.847796', '2024-03-17 18:09:58.847796');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:58.847854', '2024-03-17 18:09:58.847854');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:58.847854', '2024-03-17 18:09:58.847854')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "birds";
DELETE FROM "nodes";
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (980190962, '2024-03-17 18:09:58.851275', '2024-03-17 18:09:58.851275');
INSERT INTO "birds" ("id", "created_at", "updated_at") VALUES (298486374, '2024-03-17 18:09:58.851275', '2024-03-17 18:09:58.851275');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (980190962, 1, '2024-03-17 18:09:58.851332', '2024-03-17 18:09:58.851332');
INSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (298486374, 1, '2024-03-17 18:09:58.851332', '2024-03-17 18:09:58.851332')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:11:19.975915"], ["updated_at", "2024-03-17 18:11:19.975915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:11:19.978025"], ["updated_at", "2024-03-17 18:11:19.978025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:11:19.978839"], ["updated_at", "2024-03-17 18:11:19.978839"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:11:19.979549"], ["updated_at", "2024-03-17 18:11:19.979549"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:11:19.980229"], ["updated_at", "2024-03-17 18:11:19.980229"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:11:20.907247"], ["updated_at", "2024-03-17 18:11:20.907247"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:11:20.908944"], ["updated_at", "2024-03-17 18:11:20.908944"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:11:20.911189"], ["updated_at", "2024-03-17 18:11:20.911189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:11:20.913106"], ["updated_at", "2024-03-17 18:11:20.913106"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:11:20.914338"], ["updated_at", "2024-03-17 18:11:20.914338"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:11:21.507181"], ["updated_at", "2024-03-17 18:11:21.507181"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:11:21.508896"], ["updated_at", "2024-03-17 18:11:21.508896"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:11:21.511008"], ["updated_at", "2024-03-17 18:11:21.511008"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:11:21.512659"], ["updated_at", "2024-03-17 18:11:21.512659"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:11:21.513831"], ["updated_at", "2024-03-17 18:11:21.513831"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:11:22.032025"], ["updated_at", "2024-03-17 18:11:22.032025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:11:22.033518"], ["updated_at", "2024-03-17 18:11:22.033518"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:11:22.035102"], ["updated_at", "2024-03-17 18:11:22.035102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:11:22.037176"], ["updated_at", "2024-03-17 18:11:22.037176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:11:22.038172"], ["updated_at", "2024-03-17 18:11:22.038172"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", 125], ["created_at", "2024-03-17 18:11:22.042028"], ["updated_at", "2024-03-17 18:11:22.042028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:11:22.691279"], ["updated_at", "2024-03-17 18:11:22.691279"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:11:22.693082"], ["updated_at", "2024-03-17 18:11:22.693082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:11:22.694949"], ["updated_at", "2024-03-17 18:11:22.694949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:11:22.696598"], ["updated_at", "2024-03-17 18:11:22.696598"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:11:22.697663"], ["updated_at", "2024-03-17 18:11:22.697663"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:11:23.276858"], ["updated_at", "2024-03-17 18:11:23.276858"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:11:23.278283"], ["updated_at", "2024-03-17 18:11:23.278283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:11:23.280667"], ["updated_at", "2024-03-17 18:11:23.280667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:11:23.282076"], ["updated_at", "2024-03-17 18:11:23.282076"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:11:23.283019"], ["updated_at", "2024-03-17 18:11:23.283019"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:04.633570"], ["updated_at", "2024-03-17 18:13:04.633570"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:04.635599"], ["updated_at", "2024-03-17 18:13:04.635599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:04.638516"], ["updated_at", "2024-03-17 18:13:04.638516"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:04.639746"], ["updated_at", "2024-03-17 18:13:04.639746"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:04.640759"], ["updated_at", "2024-03-17 18:13:04.640759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:07.860070"], ["updated_at", "2024-03-17 18:13:07.860070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (2.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:07.866410"], ["updated_at", "2024-03-17 18:13:07.866410"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:07.869410"], ["updated_at", "2024-03-17 18:13:07.869410"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:07.872792"], ["updated_at", "2024-03-17 18:13:07.872792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:07.874921"], ["updated_at", "2024-03-17 18:13:07.874921"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:10.087715"], ["updated_at", "2024-03-17 18:13:10.087715"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:10.090322"], ["updated_at", "2024-03-17 18:13:10.090322"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.091905"], ["updated_at", "2024-03-17 18:13:10.091905"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.093582"], ["updated_at", "2024-03-17 18:13:10.093582"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:10.094775"], ["updated_at", "2024-03-17 18:13:10.094775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:10.821181"], ["updated_at", "2024-03-17 18:13:10.821181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:10.823095"], ["updated_at", "2024-03-17 18:13:10.823095"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.824077"], ["updated_at", "2024-03-17 18:13:10.824077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.824753"], ["updated_at", "2024-03-17 18:13:10.824753"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:10.825453"], ["updated_at", "2024-03-17 18:13:10.825453"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:10.827671"], ["updated_at", "2024-03-17 18:13:10.827671"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:10.828757"], ["updated_at", "2024-03-17 18:13:10.828757"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.829536"], ["updated_at", "2024-03-17 18:13:10.829536"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.830272"], ["updated_at", "2024-03-17 18:13:10.830272"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:10.831057"], ["updated_at", "2024-03-17 18:13:10.831057"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.842523"], ["updated_at", "2024-03-17 18:13:10.842523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:10.848744"], ["updated_at", "2024-03-17 18:13:10.848744"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:10.849731"], ["updated_at", "2024-03-17 18:13:10.849731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.850395"], ["updated_at", "2024-03-17 18:13:10.850395"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.851263"], ["updated_at", "2024-03-17 18:13:10.851263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:10.852108"], ["updated_at", "2024-03-17 18:13:10.852108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:10.858850"], ["updated_at", "2024-03-17 18:13:10.858850"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:10.860549"], ["updated_at", "2024-03-17 18:13:10.860549"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.862173"], ["updated_at", "2024-03-17 18:13:10.862173"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.866103"], ["updated_at", "2024-03-17 18:13:10.866103"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:10.866851"], ["updated_at", "2024-03-17 18:13:10.866851"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.868794"], ["updated_at", "2024-03-17 18:13:10.868794"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:10.870837"], ["updated_at", "2024-03-17 18:13:10.870837"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:10.871604"], ["updated_at", "2024-03-17 18:13:10.871604"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.872248"], ["updated_at", "2024-03-17 18:13:10.872248"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.873032"], ["updated_at", "2024-03-17 18:13:10.873032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:10.875008"], ["updated_at", "2024-03-17 18:13:10.875008"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:10.884136"], ["updated_at", "2024-03-17 18:13:10.884136"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:10.885028"], ["updated_at", "2024-03-17 18:13:10.885028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.886129"], ["updated_at", "2024-03-17 18:13:10.886129"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.887056"], ["updated_at", "2024-03-17 18:13:10.887056"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:10.887704"], ["updated_at", "2024-03-17 18:13:10.887704"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:10.890058"], ["updated_at", "2024-03-17 18:13:10.890058"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:10.890886"], ["updated_at", "2024-03-17 18:13:10.890886"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.891545"], ["updated_at", "2024-03-17 18:13:10.891545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:10.892204"], ["updated_at", "2024-03-17 18:13:10.892204"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:10.892834"], ["updated_at", "2024-03-17 18:13:10.892834"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:16.565037"], ["updated_at", "2024-03-17 18:13:16.565037"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:16.567313"], ["updated_at", "2024-03-17 18:13:16.567313"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.568399"], ["updated_at", "2024-03-17 18:13:16.568399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.569246"], ["updated_at", "2024-03-17 18:13:16.569246"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:16.569970"], ["updated_at", "2024-03-17 18:13:16.569970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.580682"], ["updated_at", "2024-03-17 18:13:16.580682"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:16.583261"], ["updated_at", "2024-03-17 18:13:16.583261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:16.584076"], ["updated_at", "2024-03-17 18:13:16.584076"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.584827"], ["updated_at", "2024-03-17 18:13:16.584827"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.585564"], ["updated_at", "2024-03-17 18:13:16.585564"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:16.586363"], ["updated_at", "2024-03-17 18:13:16.586363"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:16.589316"], ["updated_at", "2024-03-17 18:13:16.589316"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:16.590107"], ["updated_at", "2024-03-17 18:13:16.590107"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.590847"], ["updated_at", "2024-03-17 18:13:16.590847"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.591549"], ["updated_at", "2024-03-17 18:13:16.591549"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:16.592323"], ["updated_at", "2024-03-17 18:13:16.592323"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:16.598348"], ["updated_at", "2024-03-17 18:13:16.598348"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:16.599224"], ["updated_at", "2024-03-17 18:13:16.599224"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.600032"], ["updated_at", "2024-03-17 18:13:16.600032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.601542"], ["updated_at", "2024-03-17 18:13:16.601542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:16.604354"], ["updated_at", "2024-03-17 18:13:16.604354"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.605857"], ["updated_at", "2024-03-17 18:13:16.605857"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:16.608402"], ["updated_at", "2024-03-17 18:13:16.608402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:16.609546"], ["updated_at", "2024-03-17 18:13:16.609546"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.610699"], ["updated_at", "2024-03-17 18:13:16.610699"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.612308"], ["updated_at", "2024-03-17 18:13:16.612308"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:16.613647"], ["updated_at", "2024-03-17 18:13:16.613647"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:16.615138"], ["updated_at", "2024-03-17 18:13:16.615138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:16.615921"], ["updated_at", "2024-03-17 18:13:16.615921"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.617109"], ["updated_at", "2024-03-17 18:13:16.617109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.619984"], ["updated_at", "2024-03-17 18:13:16.619984"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:16.621485"], ["updated_at", "2024-03-17 18:13:16.621485"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:13:16.624214"], ["updated_at", "2024-03-17 18:13:16.624214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:13:16.625059"], ["updated_at", "2024-03-17 18:13:16.625059"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.625870"], ["updated_at", "2024-03-17 18:13:16.625870"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:13:16.626525"], ["updated_at", "2024-03-17 18:13:16.626525"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:13:16.627187"], ["updated_at", "2024-03-17 18:13:16.627187"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:16:25.783051"], ["updated_at", "2024-03-17 18:16:25.783051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:16:25.786177"], ["updated_at", "2024-03-17 18:16:25.786177"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:16:25.788663"], ["updated_at", "2024-03-17 18:16:25.788663"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:16:25.789742"], ["updated_at", "2024-03-17 18:16:25.789742"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:16:25.790590"], ["updated_at", "2024-03-17 18:16:25.790590"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:16:25.791569"], ["updated_at", "2024-03-17 18:16:25.791569"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:16:25.792477"], ["updated_at", "2024-03-17 18:16:25.792477"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.2ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:16:25.854315"], ["updated_at", "2024-03-17 18:16:25.854315"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:16:25.857142"], ["updated_at", "2024-03-17 18:16:25.857142"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:16:25.858168"], ["updated_at", "2024-03-17 18:16:25.858168"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (5.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:16:25.859072"], ["updated_at", "2024-03-17 18:16:25.859072"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:16:25.865495"], ["updated_at", "2024-03-17 18:16:25.865495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:16:25.866442"], ["updated_at", "2024-03-17 18:16:25.866442"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:16:25.867548"], ["updated_at", "2024-03-17 18:16:25.867548"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:19.702693"], ["updated_at", "2024-03-17 18:17:19.702693"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (2.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:19.704391"], ["updated_at", "2024-03-17 18:17:19.704391"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:19.707253"], ["updated_at", "2024-03-17 18:17:19.707253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:19.708909"], ["updated_at", "2024-03-17 18:17:19.708909"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:19.709935"], ["updated_at", "2024-03-17 18:17:19.709935"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:17:19.710714"], ["updated_at", "2024-03-17 18:17:19.710714"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:17:19.713977"], ["updated_at", "2024-03-17 18:17:19.713977"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:31.801886"], ["updated_at", "2024-03-17 18:17:31.801886"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:31.806098"], ["updated_at", "2024-03-17 18:17:31.806098"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:31.809667"], ["updated_at", "2024-03-17 18:17:31.809667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:31.813012"], ["updated_at", "2024-03-17 18:17:31.813012"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:31.814720"], ["updated_at", "2024-03-17 18:17:31.814720"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:17:31.816392"], ["updated_at", "2024-03-17 18:17:31.816392"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:17:31.817673"], ["updated_at", "2024-03-17 18:17:31.817673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:51.316820"], ["updated_at", "2024-03-17 18:17:51.316820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:51.318468"], ["updated_at", "2024-03-17 18:17:51.318468"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:51.319980"], ["updated_at", "2024-03-17 18:17:51.319980"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:51.320737"], ["updated_at", "2024-03-17 18:17:51.320737"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:51.321542"], ["updated_at", "2024-03-17 18:17:51.321542"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:17:51.322461"], ["updated_at", "2024-03-17 18:17:51.322461"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:17:51.323909"], ["updated_at", "2024-03-17 18:17:51.323909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:58.421437"], ["updated_at", "2024-03-17 18:17:58.421437"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:58.424294"], ["updated_at", "2024-03-17 18:17:58.424294"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.425673"], ["updated_at", "2024-03-17 18:17:58.425673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.427011"], ["updated_at", "2024-03-17 18:17:58.427011"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:58.427875"], ["updated_at", "2024-03-17 18:17:58.427875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:58.443963"], ["updated_at", "2024-03-17 18:17:58.443963"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:58.444820"], ["updated_at", "2024-03-17 18:17:58.444820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.445495"], ["updated_at", "2024-03-17 18:17:58.445495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.446251"], ["updated_at", "2024-03-17 18:17:58.446251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:58.447026"], ["updated_at", "2024-03-17 18:17:58.447026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:58.452580"], ["updated_at", "2024-03-17 18:17:58.452580"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:58.453458"], ["updated_at", "2024-03-17 18:17:58.453458"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.454382"], ["updated_at", "2024-03-17 18:17:58.454382"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.455190"], ["updated_at", "2024-03-17 18:17:58.455190"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:58.455965"], ["updated_at", "2024-03-17 18:17:58.455965"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:58.458899"], ["updated_at", "2024-03-17 18:17:58.458899"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:58.459887"], ["updated_at", "2024-03-17 18:17:58.459887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.461708"], ["updated_at", "2024-03-17 18:17:58.461708"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.463071"], ["updated_at", "2024-03-17 18:17:58.463071"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:58.464027"], ["updated_at", "2024-03-17 18:17:58.464027"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:17:58.464762"], ["updated_at", "2024-03-17 18:17:58.464762"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:17:58.465552"], ["updated_at", "2024-03-17 18:17:58.465552"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:58.467565"], ["updated_at", "2024-03-17 18:17:58.467565"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:58.468338"], ["updated_at", "2024-03-17 18:17:58.468338"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.469241"], ["updated_at", "2024-03-17 18:17:58.469241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.471162"], ["updated_at", "2024-03-17 18:17:58.471162"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:58.473665"], ["updated_at", "2024-03-17 18:17:58.473665"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:58.477285"], ["updated_at", "2024-03-17 18:17:58.477285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:58.478948"], ["updated_at", "2024-03-17 18:17:58.478948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.479887"], ["updated_at", "2024-03-17 18:17:58.479887"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.480682"], ["updated_at", "2024-03-17 18:17:58.480682"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:58.481645"], ["updated_at", "2024-03-17 18:17:58.481645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.484341"], ["updated_at", "2024-03-17 18:17:58.484341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:17:58.489600"], ["updated_at", "2024-03-17 18:17:58.489600"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:17:58.492553"], ["updated_at", "2024-03-17 18:17:58.492553"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.494381"], ["updated_at", "2024-03-17 18:17:58.494381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:17:58.496077"], ["updated_at", "2024-03-17 18:17:58.496077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:17:58.497166"], ["updated_at", "2024-03-17 18:17:58.497166"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:30.290860"], ["updated_at", "2024-03-17 18:18:30.290860"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:30.292749"], ["updated_at", "2024-03-17 18:18:30.292749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.293519"], ["updated_at", "2024-03-17 18:18:30.293519"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.294242"], ["updated_at", "2024-03-17 18:18:30.294242"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:30.294944"], ["updated_at", "2024-03-17 18:18:30.294944"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:30.305158"], ["updated_at", "2024-03-17 18:18:30.305158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:30.305947"], ["updated_at", "2024-03-17 18:18:30.305947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.306678"], ["updated_at", "2024-03-17 18:18:30.306678"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.307383"], ["updated_at", "2024-03-17 18:18:30.307383"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:30.308147"], ["updated_at", "2024-03-17 18:18:30.308147"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:30.311943"], ["updated_at", "2024-03-17 18:18:30.311943"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:30.312734"], ["updated_at", "2024-03-17 18:18:30.312734"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.313471"], ["updated_at", "2024-03-17 18:18:30.313471"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.314134"], ["updated_at", "2024-03-17 18:18:30.314134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:30.314911"], ["updated_at", "2024-03-17 18:18:30.314911"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:30.316311"], ["updated_at", "2024-03-17 18:18:30.316311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:30.317164"], ["updated_at", "2024-03-17 18:18:30.317164"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.317844"], ["updated_at", "2024-03-17 18:18:30.317844"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.318488"], ["updated_at", "2024-03-17 18:18:30.318488"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:30.319266"], ["updated_at", "2024-03-17 18:18:30.319266"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:30.329940"], ["updated_at", "2024-03-17 18:18:30.329940"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:30.330764"], ["updated_at", "2024-03-17 18:18:30.330764"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.331522"], ["updated_at", "2024-03-17 18:18:30.331522"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.332260"], ["updated_at", "2024-03-17 18:18:30.332260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:30.333138"], ["updated_at", "2024-03-17 18:18:30.333138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:18:30.333868"], ["updated_at", "2024-03-17 18:18:30.333868"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:18:30.334531"], ["updated_at", "2024-03-17 18:18:30.334531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:30.337887"], ["updated_at", "2024-03-17 18:18:30.337887"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:30.339531"], ["updated_at", "2024-03-17 18:18:30.339531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.341479"], ["updated_at", "2024-03-17 18:18:30.341479"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.345226"], ["updated_at", "2024-03-17 18:18:30.345226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:30.346442"], ["updated_at", "2024-03-17 18:18:30.346442"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:30.348829"], ["updated_at", "2024-03-17 18:18:30.348829"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:30.349721"], ["updated_at", "2024-03-17 18:18:30.349721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.350420"], ["updated_at", "2024-03-17 18:18:30.350420"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:30.351178"], ["updated_at", "2024-03-17 18:18:30.351178"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:30.351824"], ["updated_at", "2024-03-17 18:18:30.351824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:18:30.352566"], ["updated_at", "2024-03-17 18:18:30.352566"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:18:30.353610"], ["updated_at", "2024-03-17 18:18:30.353610"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:41.139208"], ["updated_at", "2024-03-17 18:18:41.139208"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:41.140961"], ["updated_at", "2024-03-17 18:18:41.140961"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:41.141921"], ["updated_at", "2024-03-17 18:18:41.141921"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:41.142700"], ["updated_at", "2024-03-17 18:18:41.142700"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:41.144097"], ["updated_at", "2024-03-17 18:18:41.144097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:18:41.144999"], ["updated_at", "2024-03-17 18:18:41.144999"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:18:41.145700"], ["updated_at", "2024-03-17 18:18:41.145700"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:42.825977"], ["updated_at", "2024-03-17 18:18:42.825977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:42.828284"], ["updated_at", "2024-03-17 18:18:42.828284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:42.829320"], ["updated_at", "2024-03-17 18:18:42.829320"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:42.830799"], ["updated_at", "2024-03-17 18:18:42.830799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:42.831496"], ["updated_at", "2024-03-17 18:18:42.831496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:44.630136"], ["updated_at", "2024-03-17 18:18:44.630136"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:44.632167"], ["updated_at", "2024-03-17 18:18:44.632167"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:44.632919"], ["updated_at", "2024-03-17 18:18:44.632919"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:44.633572"], ["updated_at", "2024-03-17 18:18:44.633572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:44.634373"], ["updated_at", "2024-03-17 18:18:44.634373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:46.746816"], ["updated_at", "2024-03-17 18:18:46.746816"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:46.748571"], ["updated_at", "2024-03-17 18:18:46.748571"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:46.749536"], ["updated_at", "2024-03-17 18:18:46.749536"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:46.750263"], ["updated_at", "2024-03-17 18:18:46.750263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:46.751147"], ["updated_at", "2024-03-17 18:18:46.751147"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:18:46.752439"], ["updated_at", "2024-03-17 18:18:46.752439"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:18:46.754035"], ["updated_at", "2024-03-17 18:18:46.754035"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:49.175502"], ["updated_at", "2024-03-17 18:18:49.175502"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:49.178193"], ["updated_at", "2024-03-17 18:18:49.178193"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:49.179252"], ["updated_at", "2024-03-17 18:18:49.179252"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:49.179976"], ["updated_at", "2024-03-17 18:18:49.179976"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:49.180802"], ["updated_at", "2024-03-17 18:18:49.180802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:50.903340"], ["updated_at", "2024-03-17 18:18:50.903340"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:50.905090"], ["updated_at", "2024-03-17 18:18:50.905090"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:50.906746"], ["updated_at", "2024-03-17 18:18:50.906746"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:50.907506"], ["updated_at", "2024-03-17 18:18:50.907506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:50.908177"], ["updated_at", "2024-03-17 18:18:50.908177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:18:52.904584"], ["updated_at", "2024-03-17 18:18:52.904584"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:18:52.906658"], ["updated_at", "2024-03-17 18:18:52.906658"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:18:52.907652"], ["updated_at", "2024-03-17 18:18:52.907652"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:18:52.908413"], ["updated_at", "2024-03-17 18:18:52.908413"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:18:52.909287"], ["updated_at", "2024-03-17 18:18:52.909287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:45.463673"], ["updated_at", "2024-03-17 18:22:45.463673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:45.465856"], ["updated_at", "2024-03-17 18:22:45.465856"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:45.466818"], ["updated_at", "2024-03-17 18:22:45.466818"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:45.467687"], ["updated_at", "2024-03-17 18:22:45.467687"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:45.468569"], ["updated_at", "2024-03-17 18:22:45.468569"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:22:45.532599"], ["updated_at", "2024-03-17 18:22:45.532599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:22:45.534260"], ["updated_at", "2024-03-17 18:22:45.534260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mNode Create (2.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:45.532144"], ["updated_at", "2024-03-17 18:22:45.532144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:47.942716"], ["updated_at", "2024-03-17 18:22:47.942716"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:47.944556"], ["updated_at", "2024-03-17 18:22:47.944556"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:47.945580"], ["updated_at", "2024-03-17 18:22:47.945580"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:47.946348"], ["updated_at", "2024-03-17 18:22:47.946348"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:47.947263"], ["updated_at", "2024-03-17 18:22:47.947263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:47.961440"], ["updated_at", "2024-03-17 18:22:47.961440"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:47.962247"], ["updated_at", "2024-03-17 18:22:47.962247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:47.962956"], ["updated_at", "2024-03-17 18:22:47.962956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:47.963619"], ["updated_at", "2024-03-17 18:22:47.963619"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:47.964330"], ["updated_at", "2024-03-17 18:22:47.964330"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:22:47.974306"], ["updated_at", "2024-03-17 18:22:47.974306"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:22:47.975914"], ["updated_at", "2024-03-17 18:22:47.975914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:47.978868"], ["updated_at", "2024-03-17 18:22:47.978868"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:47.980853"], ["updated_at", "2024-03-17 18:22:47.980853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:47.983041"], ["updated_at", "2024-03-17 18:22:47.983041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:47.985074"], ["updated_at", "2024-03-17 18:22:47.985074"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:47.986047"], ["updated_at", "2024-03-17 18:22:47.986047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:47.990026"], ["updated_at", "2024-03-17 18:22:47.990026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:47.990822"], ["updated_at", "2024-03-17 18:22:47.990822"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:47.991897"], ["updated_at", "2024-03-17 18:22:47.991897"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:47.992922"], ["updated_at", "2024-03-17 18:22:47.992922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:47.993780"], ["updated_at", "2024-03-17 18:22:47.993780"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:47.998879"], ["updated_at", "2024-03-17 18:22:47.998879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:48.001549"], ["updated_at", "2024-03-17 18:22:48.001549"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:48.002357"], ["updated_at", "2024-03-17 18:22:48.002357"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:48.003484"], ["updated_at", "2024-03-17 18:22:48.003484"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:48.004273"], ["updated_at", "2024-03-17 18:22:48.004273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:22:48.005541"], ["updated_at", "2024-03-17 18:22:48.005541"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:22:48.006924"], ["updated_at", "2024-03-17 18:22:48.006924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:48.008731"], ["updated_at", "2024-03-17 18:22:48.008731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:48.009721"], ["updated_at", "2024-03-17 18:22:48.009721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:48.010653"], ["updated_at", "2024-03-17 18:22:48.010653"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:48.012154"], ["updated_at", "2024-03-17 18:22:48.012154"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:48.013588"], ["updated_at", "2024-03-17 18:22:48.013588"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:48.018395"], ["updated_at", "2024-03-17 18:22:48.018395"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:48.019470"], ["updated_at", "2024-03-17 18:22:48.019470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:48.020646"], ["updated_at", "2024-03-17 18:22:48.020646"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:48.021505"], ["updated_at", "2024-03-17 18:22:48.021505"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:48.022603"], ["updated_at", "2024-03-17 18:22:48.022603"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:22:48.023367"], ["updated_at", "2024-03-17 18:22:48.023367"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:22:48.024034"], ["updated_at", "2024-03-17 18:22:48.024034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:22:48.026696"], ["updated_at", "2024-03-17 18:22:48.026696"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:22:48.028086"], ["updated_at", "2024-03-17 18:22:48.028086"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:22:48.029793"], ["updated_at", "2024-03-17 18:22:48.029793"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:22:48.030808"], ["updated_at", "2024-03-17 18:22:48.030808"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:22:48.031815"], ["updated_at", "2024-03-17 18:22:48.031815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:34.096132"], ["updated_at", "2024-03-17 18:23:34.096132"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:34.097988"], ["updated_at", "2024-03-17 18:23:34.097988"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.098758"], ["updated_at", "2024-03-17 18:23:34.098758"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.099734"], ["updated_at", "2024-03-17 18:23:34.099734"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:34.100823"], ["updated_at", "2024-03-17 18:23:34.100823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:34.103664"], ["updated_at", "2024-03-17 18:23:34.103664"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:34.104816"], ["updated_at", "2024-03-17 18:23:34.104816"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.105736"], ["updated_at", "2024-03-17 18:23:34.105736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.106910"], ["updated_at", "2024-03-17 18:23:34.106910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:34.108482"], ["updated_at", "2024-03-17 18:23:34.108482"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:23:34.110234"], ["updated_at", "2024-03-17 18:23:34.110234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:23:34.111597"], ["updated_at", "2024-03-17 18:23:34.111597"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:34.125901"], ["updated_at", "2024-03-17 18:23:34.125901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:34.126888"], ["updated_at", "2024-03-17 18:23:34.126888"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.130396"], ["updated_at", "2024-03-17 18:23:34.130396"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.132263"], ["updated_at", "2024-03-17 18:23:34.132263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:34.133087"], ["updated_at", "2024-03-17 18:23:34.133087"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:34.136578"], ["updated_at", "2024-03-17 18:23:34.136578"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:34.137493"], ["updated_at", "2024-03-17 18:23:34.137493"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.138189"], ["updated_at", "2024-03-17 18:23:34.138189"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.138832"], ["updated_at", "2024-03-17 18:23:34.138832"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:34.139467"], ["updated_at", "2024-03-17 18:23:34.139467"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:34.142436"], ["updated_at", "2024-03-17 18:23:34.142436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:34.143973"], ["updated_at", "2024-03-17 18:23:34.143973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.145117"], ["updated_at", "2024-03-17 18:23:34.145117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.146913"], ["updated_at", "2024-03-17 18:23:34.146913"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:34.148079"], ["updated_at", "2024-03-17 18:23:34.148079"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:34.152976"], ["updated_at", "2024-03-17 18:23:34.152976"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:34.153835"], ["updated_at", "2024-03-17 18:23:34.153835"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.154591"], ["updated_at", "2024-03-17 18:23:34.154591"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.155308"], ["updated_at", "2024-03-17 18:23:34.155308"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:34.155967"], ["updated_at", "2024-03-17 18:23:34.155967"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:23:34.172768"], ["updated_at", "2024-03-17 18:23:34.172768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:23:34.175092"], ["updated_at", "2024-03-17 18:23:34.175092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.5ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 125]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 2820230], ["created_at", "2024-03-17 18:23:34.180556"], ["updated_at", "2024-03-17 18:23:34.180556"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:34.183991"], ["updated_at", "2024-03-17 18:23:34.183991"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:34.185321"], ["updated_at", "2024-03-17 18:23:34.185321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.186274"], ["updated_at", "2024-03-17 18:23:34.186274"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.186946"], ["updated_at", "2024-03-17 18:23:34.186946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:34.187854"], ["updated_at", "2024-03-17 18:23:34.187854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:23:34.188601"], ["updated_at", "2024-03-17 18:23:34.188601"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:23:34.189373"], ["updated_at", "2024-03-17 18:23:34.189373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:34.190878"], ["updated_at", "2024-03-17 18:23:34.190878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:34.192606"], ["updated_at", "2024-03-17 18:23:34.192606"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.193542"], ["updated_at", "2024-03-17 18:23:34.193542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:34.195214"], ["updated_at", "2024-03-17 18:23:34.195214"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:34.198105"], ["updated_at", "2024-03-17 18:23:34.198105"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:44.235996"], ["updated_at", "2024-03-17 18:23:44.235996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:44.238125"], ["updated_at", "2024-03-17 18:23:44.238125"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.240857"], ["updated_at", "2024-03-17 18:23:44.240857"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.242571"], ["updated_at", "2024-03-17 18:23:44.242571"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:44.243638"], ["updated_at", "2024-03-17 18:23:44.243638"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:23:44.244749"], ["updated_at", "2024-03-17 18:23:44.244749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:23:44.245908"], ["updated_at", "2024-03-17 18:23:44.245908"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:44.256361"], ["updated_at", "2024-03-17 18:23:44.256361"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:44.257397"], ["updated_at", "2024-03-17 18:23:44.257397"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.258101"], ["updated_at", "2024-03-17 18:23:44.258101"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.258750"], ["updated_at", "2024-03-17 18:23:44.258750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:44.259593"], ["updated_at", "2024-03-17 18:23:44.259593"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:44.265447"], ["updated_at", "2024-03-17 18:23:44.265447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:44.266336"], ["updated_at", "2024-03-17 18:23:44.266336"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.267016"], ["updated_at", "2024-03-17 18:23:44.267016"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.267727"], ["updated_at", "2024-03-17 18:23:44.267727"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:44.268378"], ["updated_at", "2024-03-17 18:23:44.268378"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:23:44.269034"], ["updated_at", "2024-03-17 18:23:44.269034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:23:44.269675"], ["updated_at", "2024-03-17 18:23:44.269675"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:44.271160"], ["updated_at", "2024-03-17 18:23:44.271160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:44.272303"], ["updated_at", "2024-03-17 18:23:44.272303"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.273092"], ["updated_at", "2024-03-17 18:23:44.273092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.275034"], ["updated_at", "2024-03-17 18:23:44.275034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.9ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:44.276617"], ["updated_at", "2024-03-17 18:23:44.276617"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:44.283728"], ["updated_at", "2024-03-17 18:23:44.283728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:44.284618"], ["updated_at", "2024-03-17 18:23:44.284618"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.285303"], ["updated_at", "2024-03-17 18:23:44.285303"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.286014"], ["updated_at", "2024-03-17 18:23:44.286014"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:44.286659"], ["updated_at", "2024-03-17 18:23:44.286659"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:44.288026"], ["updated_at", "2024-03-17 18:23:44.288026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:44.289067"], ["updated_at", "2024-03-17 18:23:44.289067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.290230"], ["updated_at", "2024-03-17 18:23:44.290230"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.291936"], ["updated_at", "2024-03-17 18:23:44.291936"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:44.293426"], ["updated_at", "2024-03-17 18:23:44.293426"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:44.296058"], ["updated_at", "2024-03-17 18:23:44.296058"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:44.296852"], ["updated_at", "2024-03-17 18:23:44.296852"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.297530"], ["updated_at", "2024-03-17 18:23:44.297530"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.298253"], ["updated_at", "2024-03-17 18:23:44.298253"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:44.298899"], ["updated_at", "2024-03-17 18:23:44.298899"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:23:44.317684"], ["updated_at", "2024-03-17 18:23:44.317684"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:23:44.319091"], ["updated_at", "2024-03-17 18:23:44.319091"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 125]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 2820230], ["created_at", "2024-03-17 18:23:44.320953"], ["updated_at", "2024-03-17 18:23:44.320953"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.1ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 125]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 2820230]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 2820230]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 4430546]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 4430546]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 5497637]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 5497637]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:44.328497"], ["updated_at", "2024-03-17 18:23:44.328497"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:44.329381"], ["updated_at", "2024-03-17 18:23:44.329381"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.330140"], ["updated_at", "2024-03-17 18:23:44.330140"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:44.330846"], ["updated_at", "2024-03-17 18:23:44.330846"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:44.331683"], ["updated_at", "2024-03-17 18:23:44.331683"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:23:54.886415"], ["updated_at", "2024-03-17 18:23:54.886415"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:23:54.888956"], ["updated_at", "2024-03-17 18:23:54.888956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:23:54.890251"], ["updated_at", "2024-03-17 18:23:54.890251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:23:54.892657"], ["updated_at", "2024-03-17 18:23:54.892657"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:23:54.893379"], ["updated_at", "2024-03-17 18:23:54.893379"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:23:54.913483"], ["updated_at", "2024-03-17 18:23:54.913483"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:23:54.914951"], ["updated_at", "2024-03-17 18:23:54.914951"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 125]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 2820230], ["created_at", "2024-03-17 18:23:54.917576"], ["updated_at", "2024-03-17 18:23:54.917576"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.1ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 125]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 2820230]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 2820230]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 4430546]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 4430546]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 5497637]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 5497637]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
NodesControllerTest: test_should_get_birds
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesControllerTest: test_should_get_common_ancestor
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:42.915202"], ["updated_at", "2024-03-17 18:24:42.915202"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:42.918421"], ["updated_at", "2024-03-17 18:24:42.918421"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.920358"], ["updated_at", "2024-03-17 18:24:42.920358"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.922504"], ["updated_at", "2024-03-17 18:24:42.922504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:42.923500"], ["updated_at", "2024-03-17 18:24:42.923500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:42.938849"], ["updated_at", "2024-03-17 18:24:42.938849"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:42.939686"], ["updated_at", "2024-03-17 18:24:42.939686"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.940509"], ["updated_at", "2024-03-17 18:24:42.940509"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.941204"], ["updated_at", "2024-03-17 18:24:42.941204"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:42.942069"], ["updated_at", "2024-03-17 18:24:42.942069"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:42.943415"], ["updated_at", "2024-03-17 18:24:42.943415"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:42.944178"], ["updated_at", "2024-03-17 18:24:42.944178"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.944902"], ["updated_at", "2024-03-17 18:24:42.944902"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.945551"], ["updated_at", "2024-03-17 18:24:42.945551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:42.946199"], ["updated_at", "2024-03-17 18:24:42.946199"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_cycle_detected
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:42.948316"], ["updated_at", "2024-03-17 18:24:42.948316"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:42.949132"], ["updated_at", "2024-03-17 18:24:42.949132"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.949852"], ["updated_at", "2024-03-17 18:24:42.949852"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.950506"], ["updated_at", "2024-03-17 18:24:42.950506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:42.951144"], ["updated_at", "2024-03-17 18:24:42.951144"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:24:42.951841"], ["updated_at", "2024-03-17 18:24:42.951841"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:24:42.952481"], ["updated_at", "2024-03-17 18:24:42.952481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.1ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 1]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 2]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:42.967580"], ["updated_at", "2024-03-17 18:24:42.967580"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:42.968595"], ["updated_at", "2024-03-17 18:24:42.968595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.970928"], ["updated_at", "2024-03-17 18:24:42.970928"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.976154"], ["updated_at", "2024-03-17 18:24:42.976154"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:42.977213"], ["updated_at", "2024-03-17 18:24:42.977213"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:24:42.978154"], ["updated_at", "2024-03-17 18:24:42.978154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:24:42.979491"], ["updated_at", "2024-03-17 18:24:42.979491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:42.982284"], ["updated_at", "2024-03-17 18:24:42.982284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:42.983123"], ["updated_at", "2024-03-17 18:24:42.983123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.983800"], ["updated_at", "2024-03-17 18:24:42.983800"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.984513"], ["updated_at", "2024-03-17 18:24:42.984513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:42.985213"], ["updated_at", "2024-03-17 18:24:42.985213"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:42.993649"], ["updated_at", "2024-03-17 18:24:42.993649"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:42.994552"], ["updated_at", "2024-03-17 18:24:42.994552"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.995345"], ["updated_at", "2024-03-17 18:24:42.995345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:42.996149"], ["updated_at", "2024-03-17 18:24:42.996149"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:42.997938"], ["updated_at", "2024-03-17 18:24:42.997938"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.8ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:24:43.006123"], ["updated_at", "2024-03-17 18:24:43.006123"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-17 18:24:43.011133"], ["updated_at", "2024-03-17 18:24:43.011133"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 125]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 2820230], ["created_at", "2024-03-17 18:24:43.014295"], ["updated_at", "2024-03-17 18:24:43.014295"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 125]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 2820230]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 2820230]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 4430546]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 4430546]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 5497637]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 5497637]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:43.018315"], ["updated_at", "2024-03-17 18:24:43.018315"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:43.019176"], ["updated_at", "2024-03-17 18:24:43.019176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:43.020233"], ["updated_at", "2024-03-17 18:24:43.020233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:43.021116"], ["updated_at", "2024-03-17 18:24:43.021116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:43.022282"], ["updated_at", "2024-03-17 18:24:43.022282"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.8ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-17 18:24:43.025106"], ["updated_at", "2024-03-17 18:24:43.025106"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-17 18:24:43.028419"], ["updated_at", "2024-03-17 18:24:43.028419"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-17 18:24:43.031407"], ["updated_at", "2024-03-17 18:24:43.031407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-17 18:24:43.032672"], ["updated_at", "2024-03-17 18:24:43.032672"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-17 18:24:43.033441"], ["updated_at", "2024-03-17 18:24:43.033441"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-17 18:24:43.034230"], ["updated_at", "2024-03-17 18:24:43.034230"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-17 18:24:43.035002"], ["updated_at", "2024-03-17 18:24:43.035002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.582700"], ["updated_at", "2024-03-18 16:26:44.582700"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.585317"], ["updated_at", "2024-03-18 16:26:44.585317"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.586648"], ["updated_at", "2024-03-18 16:26:44.586648"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.587531"], ["updated_at", "2024-03-18 16:26:44.587531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.588207"], ["updated_at", "2024-03-18 16:26:44.588207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-18 16:26:44.624431"], ["updated_at", "2024-03-18 16:26:44.624431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-18 16:26:44.626077"], ["updated_at", "2024-03-18 16:26:44.626077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 125]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.2ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 2820230], ["created_at", "2024-03-18 16:26:44.628509"], ["updated_at", "2024-03-18 16:26:44.628509"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.1ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 125]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 2820230]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 2820230]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 4430546]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 4430546]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 5497637]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 5497637]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.633586"], ["updated_at", "2024-03-18 16:26:44.633586"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.634533"], ["updated_at", "2024-03-18 16:26:44.634533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.635395"], ["updated_at", "2024-03-18 16:26:44.635395"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.636111"], ["updated_at", "2024-03-18 16:26:44.636111"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.636783"], ["updated_at", "2024-03-18 16:26:44.636783"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.642561"], ["updated_at", "2024-03-18 16:26:44.642561"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.643356"], ["updated_at", "2024-03-18 16:26:44.643356"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.644018"], ["updated_at", "2024-03-18 16:26:44.644018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.644806"], ["updated_at", "2024-03-18 16:26:44.644806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.645543"], ["updated_at", "2024-03-18 16:26:44.645543"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_cycle_detected
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.647831"], ["updated_at", "2024-03-18 16:26:44.647831"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.648609"], ["updated_at", "2024-03-18 16:26:44.648609"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.649283"], ["updated_at", "2024-03-18 16:26:44.649283"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.650050"], ["updated_at", "2024-03-18 16:26:44.650050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.651261"], ["updated_at", "2024-03-18 16:26:44.651261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-18 16:26:44.652067"], ["updated_at", "2024-03-18 16:26:44.652067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-18 16:26:44.653086"], ["updated_at", "2024-03-18 16:26:44.653086"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.1ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 1]]
  [1m[36mNode Load (0.4ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 1]]
  [1m[36mBird Pluck (0.3ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 2]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.660244"], ["updated_at", "2024-03-18 16:26:44.660244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.661069"], ["updated_at", "2024-03-18 16:26:44.661069"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.661891"], ["updated_at", "2024-03-18 16:26:44.661891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.662854"], ["updated_at", "2024-03-18 16:26:44.662854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.663566"], ["updated_at", "2024-03-18 16:26:44.663566"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.667666"], ["updated_at", "2024-03-18 16:26:44.667666"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.668714"], ["updated_at", "2024-03-18 16:26:44.668714"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.670735"], ["updated_at", "2024-03-18 16:26:44.670735"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.7ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.672924"], ["updated_at", "2024-03-18 16:26:44.672924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.675718"], ["updated_at", "2024-03-18 16:26:44.675718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-18 16:26:44.676443"], ["updated_at", "2024-03-18 16:26:44.676443"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-18 16:26:44.677169"], ["updated_at", "2024-03-18 16:26:44.677169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.678662"], ["updated_at", "2024-03-18 16:26:44.678662"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.679556"], ["updated_at", "2024-03-18 16:26:44.679556"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.680272"], ["updated_at", "2024-03-18 16:26:44.680272"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.680941"], ["updated_at", "2024-03-18 16:26:44.680941"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.681649"], ["updated_at", "2024-03-18 16:26:44.681649"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.684084"], ["updated_at", "2024-03-18 16:26:44.684084"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.685381"], ["updated_at", "2024-03-18 16:26:44.685381"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.686206"], ["updated_at", "2024-03-18 16:26:44.686206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.687729"], ["updated_at", "2024-03-18 16:26:44.687729"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.1ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.689360"], ["updated_at", "2024-03-18 16:26:44.689360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.6ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-18 16:26:44.692201"], ["updated_at", "2024-03-18 16:26:44.692201"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-18 16:26:44.693905"], ["updated_at", "2024-03-18 16:26:44.693905"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:26:44.696359"], ["updated_at", "2024-03-18 16:26:44.696359"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:26:44.697338"], ["updated_at", "2024-03-18 16:26:44.697338"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.698178"], ["updated_at", "2024-03-18 16:26:44.698178"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:26:44.698846"], ["updated_at", "2024-03-18 16:26:44.698846"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:26:44.699510"], ["updated_at", "2024-03-18 16:26:44.699510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_no_match
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.454705"], ["updated_at", "2024-03-18 16:42:37.454705"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.457179"], ["updated_at", "2024-03-18 16:42:37.457179"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.458040"], ["updated_at", "2024-03-18 16:42:37.458040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.458855"], ["updated_at", "2024-03-18 16:42:37.458855"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.459549"], ["updated_at", "2024-03-18 16:42:37.459549"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
NodesHelperTest: test_find_root_and_depth_nil_node
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.484803"], ["updated_at", "2024-03-18 16:42:37.484803"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.485894"], ["updated_at", "2024-03-18 16:42:37.485894"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.486777"], ["updated_at", "2024-03-18 16:42:37.486777"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.487658"], ["updated_at", "2024-03-18 16:42:37.487658"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.488476"], ["updated_at", "2024-03-18 16:42:37.488476"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_happy_path
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.490275"], ["updated_at", "2024-03-18 16:42:37.490275"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.491360"], ["updated_at", "2024-03-18 16:42:37.491360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.492983"], ["updated_at", "2024-03-18 16:42:37.492983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.494599"], ["updated_at", "2024-03-18 16:42:37.494599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.495558"], ["updated_at", "2024-03-18 16:42:37.495558"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" ORDER BY "nodes"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.5ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-18 16:42:37.512794"], ["updated_at", "2024-03-18 16:42:37.512794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.3ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 125], ["created_at", "2024-03-18 16:42:37.514935"], ["updated_at", "2024-03-18 16:42:37.514935"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 125]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBird Create (0.4ms)[0m  [1m[32mINSERT INTO "birds" ("node_id", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["node_id", 2820230], ["created_at", "2024-03-18 16:42:37.516971"], ["updated_at", "2024-03-18 16:42:37.516971"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.1ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 125]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 2820230]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 2820230]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 4430546]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 4430546]]
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 5497637]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 5497637]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_with_a_cycle
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.523915"], ["updated_at", "2024-03-18 16:42:37.523915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.525697"], ["updated_at", "2024-03-18 16:42:37.525697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.526852"], ["updated_at", "2024-03-18 16:42:37.526852"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.527642"], ["updated_at", "2024-03-18 16:42:37.527642"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.528829"], ["updated_at", "2024-03-18 16:42:37.528829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-18 16:42:37.530517"], ["updated_at", "2024-03-18 16:42:37.530517"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-18 16:42:37.531587"], ["updated_at", "2024-03-18 16:42:37.531587"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_happy_path
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.534039"], ["updated_at", "2024-03-18 16:42:37.534039"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.534932"], ["updated_at", "2024-03-18 16:42:37.534932"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.535723"], ["updated_at", "2024-03-18 16:42:37.535723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.536381"], ["updated_at", "2024-03-18 16:42:37.536381"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.537081"], ["updated_at", "2024-03-18 16:42:37.537081"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
NodesHelperTest: test_find_root_and_depth_with_a_cycle
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.547361"], ["updated_at", "2024-03-18 16:42:37.547361"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.548866"], ["updated_at", "2024-03-18 16:42:37.548866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.550457"], ["updated_at", "2024-03-18 16:42:37.550457"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.551552"], ["updated_at", "2024-03-18 16:42:37.551552"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.552345"], ["updated_at", "2024-03-18 16:42:37.552345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-18 16:42:37.553033"], ["updated_at", "2024-03-18 16:42:37.553033"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-18 16:42:37.553674"], ["updated_at", "2024-03-18 16:42:37.553674"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
NodesHelperTest: test_get_bird_ids_for_node_and_descendants_cycle_detected
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.4ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.555116"], ["updated_at", "2024-03-18 16:42:37.555116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.556468"], ["updated_at", "2024-03-18 16:42:37.556468"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (1.0ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.557468"], ["updated_at", "2024-03-18 16:42:37.557468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.560341"], ["updated_at", "2024-03-18 16:42:37.560341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.561780"], ["updated_at", "2024-03-18 16:42:37.561780"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["parent_id", 2], ["created_at", "2024-03-18 16:42:37.562519"], ["updated_at", "2024-03-18 16:42:37.562519"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2], ["parent_id", 1], ["created_at", "2024-03-18 16:42:37.563333"], ["updated_at", "2024-03-18 16:42:37.563333"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBird Pluck (0.0ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 1]]
  [1m[36mBird Pluck (0.1ms)[0m  [1m[34mSELECT "birds"."id" FROM "birds" WHERE "birds"."node_id" = ?[0m  [["node_id", 2]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."parent_id" = ?[0m  [["parent_id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
NodesHelperTest: test_find_root_and_depth_happy_path
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.567959"], ["updated_at", "2024-03-18 16:42:37.567959"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.568960"], ["updated_at", "2024-03-18 16:42:37.568960"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.569727"], ["updated_at", "2024-03-18 16:42:37.569727"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.570370"], ["updated_at", "2024-03-18 16:42:37.570370"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.571006"], ["updated_at", "2024-03-18 16:42:37.571006"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 5497637], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mNode Load (0.1ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 4430546], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Node Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
NodesHelperTest: test_find_lowest_common_ancestor_same_node
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 125], ["parent_id", 130], ["created_at", "2024-03-18 16:42:37.578811"], ["updated_at", "2024-03-18 16:42:37.578811"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 130], ["parent_id", nil], ["created_at", "2024-03-18 16:42:37.579693"], ["updated_at", "2024-03-18 16:42:37.579693"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.2ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 2820230], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.580455"], ["updated_at", "2024-03-18 16:42:37.580455"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.5ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 4430546], ["parent_id", 125], ["created_at", "2024-03-18 16:42:37.581683"], ["updated_at", "2024-03-18 16:42:37.581683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNode Create (0.3ms)[0m  [1m[32mINSERT INTO "nodes" ("id", "parent_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", 5497637], ["parent_id", 4430546], ["created_at", "2024-03-18 16:42:37.583344"], ["updated_at", "2024-03-18 16:42:37.583344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 2820230], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mNode Load (0.0ms)[0m  [1m[34mSELECT "nodes".* FROM "nodes" WHERE "nodes"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
